<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
    <title>ShelveIt - Update Storage</title>
    <link rel="stylesheet" href="/css/styles.css">
</head>
<body>
<div th:replace="fragments :: header"></div>

<div class="container">
    <h1>Update Storage</h1>

    <div th:replace="fragments :: back-navigation('/storages')"></div>

    <div class="flex-container">
        <!-- Update Storage Form -->
        <div class="card form-card">
            <h2>Update Storage</h2>
            
            <!-- Current Storage Info -->
            <div class="current-info">
                <strong>Current Storage Information:</strong><br>
                ID: <span th:text="${storage.id}"></span> | 
                Name: <span th:text="${storage.name}"></span> | 
                Type: <span th:text="${storage.type}"></span> | 
                Parent: <span th:if="${storage.parentId != null}" th:text="${storage.parentId}"></span>
                       <span th:if="${storage.parentId == null}">No Parent</span>
            </div>
            
            <form th:action="@{/storages/{id}/update(id=${storage.id})}" method="post">
                <!-- Name Field -->
                <div th:replace="fragments :: form-field('Name:', 'text', 'name', 'Enter storage name', ${storage.name}, null)"></div>

                <!-- Type Field -->
                <div>
                    <label for="type"><strong>Type:</strong></label>
                    <select id="type" name="type">
                        <option th:each="storageType : ${storageTypes}" 
                                th:value="${storageType}" 
                                th:text="${storageType}"
                                th:selected="${storage.type == storageType}"></option>
                    </select>
                    <div class="type-help">Changing type may affect hierarchy rules</div>
                </div>

                <!-- Update Button -->
                <div class="actions">
                    <button type="submit">Update</button>
                </div>
            </form>
        </div>

        <!-- Second Blank Frame -->
        <div class="card blank-card">
        </div>
    </div>
</div>
</body>
</html>
